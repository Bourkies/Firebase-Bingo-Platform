# Firebase Bingo Platform - Test Plan

This document outlines the test plan for the entire Firebase Bingo Platform project. It covers all features, user roles, and permission levels to ensure comprehensive quality assurance.

| Test Case ID | Feature Area | Test Case Description | Persona / Role | Prerequisites | Test Steps | Expected Result |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| AUTH-001 | Authentication | Visitor can see the login button | Visitor (Logged Out) | N/A | 1. Open the application in an incognito/private window.<br>2. Look at the top-right navigation bar. | The button shows "Login". The user info text is empty. |
| AUTH-002 | Authentication | Visitor is prompted to log in when clicking an interactive tile | Visitor (Logged Out) | At least one team and one unlocked tile exist. | 1. Open the application.<br>2. Select a team from the dropdown.<br>3. Click on an unlocked tile. | A message appears prompting the user to log in or select a team. The submission modal does not open. |
| AUTH-003 | Authentication | User can log in with a Google account | Visitor (Logged Out) | N/A | 1. Click the "Login" button.<br>2. In the modal, click "Sign in with Google".<br>3. Complete the Google authentication flow. | The page reloads. The button now says "Logout". User's name and team (if any) appear in the navbar. Admin/Setup links appear if the user has appropriate roles. |
| AUTH-004 | Authentication | User can log in anonymously | Visitor (Logged Out) | N/A | 1. Click the "Login" button.<br>2. In the modal, click "Sign in Anonymously". | The page reloads. The button now says "Logout". A default anonymous name (e.g., "Anonymous-abc12") appears in the navbar. |
| AUTH-005 | Authentication | Logged-in user can log out | Player / Mod / Admin | User is logged in. | 1. Click the "Logout" button. | The page reloads. The button now says "Login". User info is cleared from the navbar. Admin/Setup links disappear. |
| AUTH-006 | Authentication | New Google user is prompted to set a display name | Player (New Google User) | `promptForDisplayNameOnLogin` is true in config. | 1. Log in with a brand new Google account for the first time. | After login, a "Welcome!" modal appears, prompting the user to set their display name. |
| AUTH-007 | Authentication | User can change their display name | Player (Google User) | User is logged in with a non-anonymous account. | 1. Click the "Change Name" button in the navbar.<br>2. Enter a new name in the modal.<br>3. Click "Save and Continue". | The modal closes. The name in the navbar updates to the new name. |
| AUTH-008 | Authentication | Anonymous user cannot change their name | Player (Anonymous) | User is logged in anonymously. | 1. View the navbar. | The "Change Name" button is not visible. |
| PLAYER-001 | Player View | Board loads with correct background image and tiles | Player | `boardImageUrl` is set in config. Tiles exist in Firestore. | 1. Log in as a player.<br>2. Select a team. | The board container shows the configured background image. Tile overlays are positioned correctly on the board. |
| PLAYER-002 | Player View | Tile statuses are displayed correctly for a team | Player | Submissions exist for the selected team with various statuses (complete, verified, etc.). | 1. Log in as a player.<br>2. Select a team.<br>3. Observe the colors/styles of different tiles. | Tiles correctly show styles for Locked, Unlocked, Partially Complete, Submitted, Verified, and Requires Action based on the team's progress. |
| PLAYER-003 | Player View | Player can open submission modal for an unlocked tile | Player | User is logged in and assigned to a team. An unlocked tile exists for that team. | 1. Log in and ensure the correct team is selected.<br>2. Click on an unlocked tile. | The submission modal opens, pre-filled with the tile's name and description. |
| PLAYER-004 | Player View | Player cannot open submission modal for a locked tile | Player | User is logged in and assigned to a team. A locked tile exists. | 1. Log in and ensure the correct team is selected.<br>2. Click on a locked tile. | Nothing happens. The modal does not open. |
| PLAYER-005 | Player View | Player can save progress on a submission | Player | Modal is open for a tile. | 1. Open the submission modal.<br>2. Fill in some evidence or notes.<br>3. Ensure "Mark as complete" is UNCHECKED.<br>4. Click "Save Progress". | The modal closes. The tile status changes to "Partially Complete". Re-opening the modal shows the saved data. |
| PLAYER-006 | Player View | Player can mark a submission as complete | Player | Modal is open for a tile. | 1. Open the submission modal.<br>2. Fill in required evidence/player names.<br>3. Check the "Mark as complete" box.<br>4. Click "Save Progress". | The modal closes. The tile status changes to "Submitted". Re-opening the modal shows the saved data and the checked box. |
| PLAYER-007 | Player View | Player can resubmit a tile that requires action | Player | A submission for the player's team has been marked as "Requires Action" by an admin. | 1. Log in and select the team.<br>2. Click the tile marked "Requires Action".<br>3. Observe the admin feedback in the modal.<br>4. Make changes and click "Resubmit for Review". | The modal closes. The tile status changes back to "Submitted". The "Requires Action" flag is cleared in the database. |
| PLAYER-008 | Player View | Team selector is disabled and locked to user's team on a private board | Player | `boardVisibility` is 'private'. User is assigned to a team. | 1. Log in as a player assigned to a team.<br>2. View the team selector dropdown. | The dropdown is disabled and shows only the player's assigned team. |
| PLAYER-009 | Player View | Tile names and descriptions are hidden when censorship is active | Player | `censorTilesBeforeEvent` is true. | 1. Log in as a regular player (not admin/mod).<br>2. Hover over a tile to view its tooltip. | The tooltip shows a generic name like "Censored" and a generic description, not the actual tile details. |
| SETUP-001 | Setup Page | Admin can access the setup page | Admin | User is logged in with `isAdmin: true`. | 1. Log in as an Admin.<br>2. Click the "Setup" link in the navbar or navigate to `setup.html`. | The Board Setup page loads successfully. The "Access Denied" message is not shown. |
| SETUP-002 | Setup Page | Non-admin cannot access the setup page | Player / Mod / Visitor | User is not an Admin. | 1. Attempt to navigate directly to `setup.html`. | The "Access Denied" message is shown. |
| SETUP-003 | Setup Page | Admin can drag and resize a tile on the board | Admin | On `setup.html`. | 1. Click "Unlock Tiles".<br>2. Drag a tile to a new position.<br>3. Resize a tile using its edges. | The tile's position and size update visually. The changes are saved automatically and reflected in the details panel. |
| SETUP-004 | Setup Page | Admin can edit tile details in the form | Admin | On `setup.html`. | 1. Select a tile from the board or dropdown.<br>2. Change its Name, Points, or Description in the form on the right.<br>3. The change is auto-saved. | The data is updated in Firestore. If the tile is re-selected, the new data is present. |
| SETUP-005 | Setup Page | Admin can add a new tile | Admin | On `setup.html`. | 1. Click the "Add New Tile" button. | A new tile appears on the board and in the tile selector dropdown. |
| SETUP-006 | Setup Page | Admin can delete a tile | Admin | On `setup.html`. | 1. Select a tile.<br>2. Click "Delete Selected Tile".<br>3. Confirm the action. | The tile is removed from the board and the database. |
| SETUP-007 | Setup Page | Admin can manage teams (add, remove) | Admin | On `setup.html`. | 1. Scroll to the "Event Teams" panel.<br>2. Click "+ Add New Team".<br>3. A new team row appears.<br>4. Click the "Remove" button on a team row. | The team is added/removed from the UI and the database. |
| SETUP-008 | Setup Page | Admin can edit global config and styles | Admin | On `setup.html`. | 1. Scroll to the "Global Config & Styles" panel.<br>2. Change a value, like the Page Title or a status color.<br>3. The change is auto-saved. | The change is reflected live on the setup page (e.g., tile previews change color) and is saved to the database. |
| ADMIN-001 | Admin Pages | Event Mod can access the admin page | Event Mod | User is logged in with `isEventMod: true`. | 1. Log in as an Event Mod.<br>2. Click the "Admin" link in the navbar or navigate to `admin.html`. | The Admin Dashboard page loads successfully. |
| ADMIN-002 | Admin Pages | Player cannot access the admin page | Player | User is a regular player. | 1. Attempt to navigate directly to `admin.html`. | The "Access Denied" message is shown. |
| ADMIN-003 | Admin Pages | Admin can access the user permissions page | Admin | User is logged in with `isAdmin: true`. | 1. On `admin.html`, click the "Manage Permissions" link or navigate to `permissions.html`. | The User Permissions page loads successfully. |
| ADMIN-004 | Admin Pages | Event Mod cannot access the user permissions page | Event Mod | User is an Event Mod, not an Admin. | 1. Attempt to navigate directly to `permissions.html`. | The "Access Denied" message is shown. |
| ADMIN-005 | Admin View | Admin can verify a submission | Admin / Event Mod | A submission with "Submitted" status exists. | 1. On `admin.html`, find the submission and click it to open the modal.<br>2. Check the "Admin Verified" box.<br>3. Click "Update Submission". | The modal closes. The submission's status in the table changes to "Verified". |
| ADMIN-006 | Admin View | Admin can mark a submission as 'Requires Action' | Admin / Event Mod | A submission exists. | 1. Open the submission modal.<br>2. Check the "Requires Action" box.<br>3. Enter feedback in the textarea that appears.<br>4. Click "Update Submission". | The modal closes. The submission's status changes to "Requires Action". The feedback is saved. |
| ADMIN-007 | User Management | Admin/Mod can assign a user to a team | Admin / Event Mod | On `users.html`. | 1. Find a user in the list.<br>2. Select a team from the dropdown in their row. | The change is saved automatically. The user is now part of that team. |
| ADMIN-008 | User Management | Admin can grant/revoke Mod and Admin roles | Admin | On `permissions.html`. | 1. Find a user in the list.<br>2. Check/uncheck the "Is Mod" or "Is Admin" box. | The change is saved automatically. The user's permissions are updated. |
| IMPORT-001 | Import/Export | Admin can export all tiles to CSV | Admin | Tiles exist in the database. | 1. Navigate to `setup.html`.<br>2. Click the "Import/Export Tiles" link to go to `import_tiles.html`.<br>3. Click "Export to CSV". | A CSV file named `bingo-tiles-export.csv` is downloaded, containing all tile data. |
| IMPORT-002 | Import/Export | Admin can import new tiles from a CSV | Admin | On `import_tiles.html`. | 1. Create a CSV with new tiles, including a unique `id` for each.<br>2. Upload the file.<br>3. Map the CSV columns to the tile properties.<br>4. Select "Create new tiles and reject duplicates" mode.<br>5. Click "Import Tiles". | The new tiles are created in the database. The results summary shows success. |
| IMPORT-003 | Import/Export | Admin can overwrite existing tiles from a CSV | Admin | On `import_tiles.html`. | 1. Create a CSV where the `id` column matches existing tiles.<br>2. Upload the file and map columns.<br>3. Select "Create new tiles and overwrite duplicates" mode.<br>4. Click "Import Tiles". | The data for the existing tiles is updated with the values from the CSV file. |
| DIAG-001 | Troubleshooting | All checks pass for a correctly configured project | Admin | Project is fully set up with valid config and security rules. | 1. Log in as an Admin.<br>2. Navigate to `troubleshoot.html`. | All checks show a green/success status. |
